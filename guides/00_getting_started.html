<!DOCTYPE html>
<html>
    <head>
        <title>
            Getting Started with Spark
        </title>

        <link rel="stylesheet" href="/spark/assets/screen-d65ec317b2d05352f76ad74806d9169a206fb515.css" type="text/css">


        <link rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/solarized_light.min.css">
        <script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>

        <script src="http://use.edgefonts.net/open-sans.js"></script>
        <link href='http://fonts.googleapis.com/css?family=Bangers' rel='stylesheet' type='text/css'>

            </head>
    <body>
        <header role="banner">
            <nav id="nav-main">
                <div class="page-wrapper">
                    <ul>
                                            <li>
                            <a class="" href="/spark/index.html">Home</a>
                        </li>
                                            <li>
                            <a class="selected" href="/guides">Guides</a>
                        </li>
                                            <li>
                            <a class="" href="https://github.com/sparkframework">Code</a>
                        </li>
                                        </ul>
                </div>
            </nav>

            <div class="page-wrapper">
                            </div>
        </header>

        <div class="page-wrapper">
            <article class="guide">
    <nav class="toc">
        <h2>Chapters</h2>
        <ul>
<li>
<a href="#toc_0">Getting Started with Spark</a>
<ul>
<li>
<a href="#toc_1">Prerequisites</a>
</li>
<li>
<a href="#toc_2">Install</a>
</li>
<li>
<a href="#toc_3">Your First Application</a>
<ul>
<li>
<a href="#toc_4">Adding your first controller</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>

    </nav>

    <div class="content">
        <h1 id="toc_0">Getting Started with Spark</h1>

<h2 id="toc_1">Prerequisites</h2>

<ul>
<li>PHP &gt;= 5.4.0</li>
</ul>

<h2 id="toc_2">Install</h2>

<p>Invoke this command in a terminal:</p>

<pre><code>% curl -O &quot;http://chh.github.com/spark/spark.phar&quot; &amp;&amp; chmod a+x spark.phar
</code></pre>

<p>You now should have a file named <code>spark.phar</code> in your current working
directory.</p>

<h2 id="toc_3">Your First Application</h2>

<p>Fire up your terminal and enter this command:</p>

<pre><code>% php spark.phar create Blog
</code></pre>

<p>You should see something like &quot;Creating Application Blog in /Blog&quot;. You
now can go and grab some coffee, while everything that&#39;s needed to run
your application is installed.</p>

<p>Go into the application directory and start a development server:</p>

<pre><code>% cd MyApp
% ./vendor/bin/spark server
</code></pre>

<p>Then open <a href="http://localhost:3000">http://localhost:3000</a> in your browser, you should see &quot;Hello
World&quot; in big letters.</p>

<h3 id="toc_4">Adding your first controller</h3>

<p>Controllers make your application do things when someone views it in
their browser. Controllers go into the directory <code>app/controllers/</code>, 
and are best generated by the <code>generate controller</code> command:</p>

<pre><code>% ./vendor/bin/spark generate controller user
</code></pre>

<p>If you open up <code>app/controllers/MyApp/UserController.php</code>
you should see this:</p>

<pre><code>&lt;?php

namespace MyApp;

class UserController
{
    function indexAction()
    {
    }
}
</code></pre>

<p>Each controller consists of actions. Each action is a public method of
the controller class, and ends with &quot;Action&quot;.</p>

<p>The HTML goes into a &quot;View&quot;. The view&#39;s file name gets taken from the
controller and action name. For example for the &quot;index&quot; action in the 
&quot;UserController&quot; the view &quot;user/index.phtml&quot; gets used.</p>

<p>Put this into <code>app/views/user/index.phtml</code>:</p>

<pre><code>&lt;h1&gt;Hello World &lt;?= $this-&gt;name ?&gt;!&lt;/h1&gt;
</code></pre>

<p>The view has access to each property of the controller class. This
allows you to pass variables from the controller to the view. Also add
the parameter <code>name</code> to the method, we will need it later.</p>

<pre><code>&lt;?php

namespace MyApp;

class UserController
{
    function indexAction($name)
    {
        $this-&gt;name = $name;
    }
}
</code></pre>

<p>The last part of getting our controller to do something (remotely)
useful, is to add a route. A Route connects a URI to a controller and
action. Routes are configured in <code>config/routes.php</code>.</p>

<p>This will do for now:</p>

<pre><code>$routes-&gt;match(&#39;/user/{name}&#39;, &#39;user#index&#39;);
</code></pre>

<p>That thing within the curly braces is a variable, which gets extracted
from the URI and then gets assigned the name <code>name</code>. We&#39;ve previously
declared that our action needs an argument <code>name</code>, so Spark figures this
out and passes the route variable along to the action.</p>

<p>Last but not least, we assign the controller and action to the route.
This is done with <code>$controller#$action</code>. Controller names are converted
from <code>under_score</code> to <code>UnderScore</code> and then suffixed with <code>Controller</code>.
So <code>user</code> gets transformed to <code>UserController</code>.</p>

<p>If you open <a href="http://localhost:3000/user/John%20Doe">http://localhost:3000/user/John%20Doe</a> in your browser you
should see &quot;Hello World John Doe!&quot; in big letters.</p>

<p><em>Congratulations! You&#39;ve created your first app with Spark!</em></p>

    </div>
</article>
        </div>

        <script type="text/javascript">
    hljs.initHighlighting();
</script>
    </body>
</html>

